#!/usr/bin/env raku

class Lair {
    method default {
        self.zef;
    }

    method zef {
        run <zef install --force .>;
    }
}

sub main {
    my $lair = Lair.new;

    if not @*ARGS {
        @*ARGS = ['default'];
    }

    for @*ARGS -> $arg {
        if not $lair.can($arg) {
            note "No such task: $arg";
            exit 1;
        }

        $lair."$arg"();
    }
}

main;
